<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ordem de Serviço * Univen Page">
    <title>Univen * Window-Preview - Ordem de Serviço</title>
    <link rel="stylesheet" href="assets/window-print-preview/style.css">
    </head>
<body>

    <!--
    Banner structure
    -->
    <section class="a4-container">
        <nav class="header">
            <img src="assets/window-print-preview/Logo-branco Univen-140x40.png" alt="logo-univen" class="header__logo">
            <p class="header__web">univen.com.br</p>
            <p class="header__cel">41 9616-1271</p>
        </nav>
        <section class="banner">
            <div id="titulo-principal">
                <h1>Ordem de Serviço</h1>
            </div>
        </section>

        <!--
        Form
        1. Service information block/scope
        2. Customer information block/scope
        3. Equipment block/scope
        4. Displacement to go and displacement to return block/scope
        5. Time of service block/scope
        6. Description of service block/scope
        -->
        <main>
            <section class="form">
                <form action="">

                    <!--
                    Form
                    Service information block/scope
                    -->
                    <fieldset class="service-group">
                        <legend id="service-title"><strong>Serviço</strong></legend>
                        <div class="service-fields">
                            
                            <div id="fields-align-service">
                                <label for="data-service" class="label-service">Data</label>
                                <span class="inputbox-service" id="preview-data-service"></span>
                            </div>

                            <div id="fields-align-service">
                                <label for="type-service" class="label-service">Serviço</label>
                                <span class="inputbox-service" id="preview-type-service"></span>
                            </div>

                            <div id="fields-align-service">
                                <label for="fabricante" class="label-service">Fabricante</label>
                                <span class="inputbox-service" id="preview-fabricante"></span>
                            </div>
                        </div>
                    </fieldset>

                    <!--
                    Form
                    Customer information block/scope
                    -->
                    <div class="info-customer-fields">
                        <fieldset class="customer-group">
                                <legend id="customer-title"><strong>Cliente</strong></legend>
                                <div class="customer-group1">
                                    <div class="fields-align-customer">
                                        <label for="customer-name" class="customer-inst-name-label">Nome da Instituição</label>
                                        <span type="text" class="inputbox-customer" id="preview-customer-name" name="nome-cliente" placeholder="Nome do Hospital, Clínica ou Laboratório" required></span>
                                    </div>
                                    <div class="fields-align-customer">
                                        <label for="customer-contact" class="customer-contact-label">Contato</label>
                                        <span type="text" class="inputbox-customer" id="preview-customer-contact" name="contato-cliente" placeholder="Nome do Responsável" required></span>
                                    </div>
                                    <div class="fields-align-customer">
                                        <label for="customer-cel-tel" class="customer-cel-tel-label">Cel/Tel</label>
                                        <span type="text" class="inputbox-customer" id="preview-customer-cel-tel" name="cel-tel-cliente" placeholder="(xx) xxxxx-xxxx" required></span>
                                    </div>
                                </div>
                                <br>
                                
                                <div class="customer-group2">
                                    <div class="fields-align-customer">
                                        <label for="customer-address" class="customer-address-label">Endereço</label>
                                        <span type="text" class="inputbox-customer" id="preview-customer-address" name="endereco-cliente" placeholder="Avenida das Flores, 123 - Bairro Jardim das Rosas" required></span>
                                    </div>
                                    <div class="fields-align-customer">
                                        <label for="customer-municipality" class="customer-municipality-label">Municipio</label>
                                        <span type="text" class="inputbox-customer" id="preview-customer-municipality" name="municipio-cliente" placeholder="Cidade" required></span>
                                    </div>
                                    <div class="fields-align-customer">
                                        <label for="customer-uf" class="customer-uf-label">UF</label>
                                        <span name="uf" class="inputbox-customer" id="preview-customer-uf" required></span>
                                            
                                    </div>
                                </div>
                        </fieldset>
                    </div>

                    <!--
                    Form
                    Equipment block/scope
                    -->
                    <fieldset class="equipment-group">
                        <legend id="equip-title"><strong>Equipamento</strong></legend>
                        <div class="equipment-group1">
                            <div class="fields-align-equip">
                                <label for="n-serie" class="serial-number-label">Nº de Série</label>
                                <span type="text" class="inputbox-equip" id="preview-serial-number" name="n-serie" placeholder="SN 12345678" required></span>
                            </div>
                            <div class="fields-align-equip">
                                <label for="nome-equipamento" class="equip-name-label">Nome do Equipamento</label>
                                <span type="text" class="inputbox-equip" id="preview-equip-name" name="nome-equipamento" placeholder="Modelo / Marca do Equipamento" required></span>
                            </div>
                            <div class="fields-align-equip">
                                <label for="n-chamado" class="os-number-label">Nº de Chamado</label>
                                <span type="text" class="inputbox-equip" id="preview-os-number" name="n-chamado" placeholder="CH 12345678" required> </span>
                            </div>
                        </div>
                        <br>
                        
                    
                        <div class="equipment-group2">
                            <div class="fields-align-equip-modality">
                                <label for="modalidade-titulo" class="modality-title">Modalidade</label>
                                <div class="checkbox-group">
                                    <span type="checkbox" class="modality-box" id="preview-rx-check" name="equip-check"></span>
                                    <label for="radiologia" class="rx">Radiologia</label>
                                    
                                    <span type="checkbox" class="modality-box" id="preview-mg-check" name="equip-check"></span>
                                    <label for="mamografia" class="mg">Mamografia</label>
                                    
                                    <span type="checkbox" class="modality-box" id="preview-ul-check" name="equip-check"></span>
                                    <label for="ultrassonografia" class="ul">Ultrassonografia</label>
                                    
                                    <span type="checkbox" class="modality-box" id="preview-odonto-check" name="equip-check"></span>
                                    <label for="odontologia" class="odonto">Odontologia</label>
                                    
                                    <span type="checkbox" class="modality-box" id="preview-vet-check" name="equip-check"></span>
                                    <label for="veterinaria" class="vet">Veterinária</label>  
                                </div>
                            </div>
                            
                            
                            <div class="fields-align-equip-status">
                                <label for="equip-status" class="status-equip-label">Status do Equipamento</label>
                                <span name="equip-status" class="inputbox-status-equip" id="preview-equip-status"></span>
                                    
                                </select>
                            </div>
                        </div>
                    </fieldset>
                
                        <!--
                        Form
                        Displacement to go and displacement to return block/scope
                        -->
                        <fieldset class="deslocamento-group">
                            <div id="legend-desloc">
                                <legend class="desloc-titulo"><strong>Deslocamento</strong></legend>
                            </div>
                            <div class="deslocamento-ida">
                                <div class="fields-align-desloc-ida">
                                    <label for="data" id="label-data-ida">Data de Ida</label>
                                    <span type="date" class="inputbox-desloc-ida" id="preview-data-ida" name="data-ida" required></span>
                                </div>
                                <div class="fields-align-desloc-ida">
                                    <label for="hora-inicio" id="label-hora-inicio-ida">Início</label>
                                    <span type="text" class="inputbox-desloc-ida" id="preview-hora-inicio-ida" name="hora-inicio" placeholder="08h00" required></span>
                                </div>
                                <div class="fields-align-desloc-ida">
                                    <label for="hora-chegada" id="label-hora-chegada-ida">Chegada</label>
                                    <span type="text" class="inputbox-desloc-ida" id="preview-hora-chegada-ida" name="hora-chegada" placeholder="10h00" required></span>
                                </div>
                                <div class="fields-align-desloc-ida">
                                    <label for="local-origem" id="label-local-origem-ida">Origem</label>
                                    <span type="text" class="inputbox-desloc-ida" id="preview-local-origem-ida" name="local-origem" placeholder="Casa ou Hotel" required></span>
                                </div>
                                <div class="fields-align-desloc-ida">
                                    <label for="local-chegada" id="label-local-destino-ida">Destino</label>
                                    <span type="text" class="inputbox-desloc-ida" id="preview-local-destino-ida" name="local-cdestino" placeholder="Local de Atendimento" required></span>
                                </div>
                            </div>
                            <br>
                            <div class="deslocamento-volta">
                                <div class="fields-align-desloc-volta">
                                    <label for="data-volta" id="label-data-volta">Data de Volta</label>
                                    <span type="date" class="inputbox-desloc-volta" id="preview-data-volta" name="data-volta" required></span>
                                </div>
                                <div class="fields-align-desloc-volta">
                                    <label for="hora-inicio" id="label-hora-inicio-volta">Início</label>
                                    <span type="text" class="inputbox-desloc-volta" id="preview-hora-inicio-volta" name="hora-inicio-volta" placeholder="16h00" required></span>
                                </div>
                                <div class="fields-align-desloc-volta">
                                    <label for="hora-chegada" id="label-hora-chegada-volta">Chegada</label>
                                    <span type="text" class="inputbox-desloc-volta" id="preview-hora-chegada-volta" name="hora-chegada-volta" placeholder="18h00" required></span>
                                </div>
                                <div class="fields-align-desloc-volta">
                                    <label for="local-origem" id="label-local-origem-volta">Origem</label>
                                    <span type="text" class="inputbox-desloc-volta" id="preview-local-origem-volta" name="local-origem-volta" placeholder="Local de Atendimento" required></span>
                                </div>
                                <div class="fields-align-desloc-volta">
                                    <label for="local-chegada" id="label-local-destino-volta">Destino</label>
                                    <span type="text" class="inputbox-desloc-volta" id="preview-local-destino-volta" name="local-destino-volta" placeholder="Casa ou Hotel" required></span>
                                </div>
                            </div>
                    </fieldset>
                    <!--
                    Form
                    Time of service block/scope
                    -->
                    <fieldset class="tempo-servico">
                        <Legend id="tempo-titulo"><strong>Tempo de Serviço</strong></Legend>
                        <div class="fields-align-time">
                            <label for="hora-inicio" id="label-inicio-time">Início</label>
                            <span type="text" id="preview-inputbox-inicio-servico" name="hora-inicio-tempo" placeholder="13h00" required></span>
                        </div>
                        <div class="fields-align-time">
                            <label for="hora-termino" id="label-termino-time">Término</label>
                            <span type="text" id="preview-inputbox-termino-servico" name="hora-termino-tempo" placeholder="16h00" required></span>
                        </div>
                        <div class="fields-align-time">
                            <label for="status-atend" id="label-status-atend">Status de Atendimento</label>
                            <span class="inputbox-status-atend" id="preview-status-atend" required></span>

                        </div>
                        <div class="fields-align-time">
                            <label for="obs" id="label-obs">Observações</label>
                            <span type="text" id="preview-inputbox-obs" name="obs-tempo" placeholder="Apontamentos relevantes"></span>
                        </div>
                    </fieldset>
                    <!--
                    Form
                    Description of service block/scope
                    -->
                    <fieldset class="description"> 
                        <legend id="descricao-titulo"><strong>Descrição do Serviço</strong></legend>
                        <span id="preview-desc-servico" name="desc-servico" required></span>
                    </fieldset>
                </form>
            </section>
            <section class="signatures__group">
                <div class="signatures__group__fields">
                    <input type="text" name="inputbox-tech-name" class="signatures__inputbox">
                    <label for="label-tech-name" class="signatures__labels">assinatura do técnico</label>
                </div>
                <div class="signatures__group__fields">
                    <input type="text" name="inputbox-cliente-name" class="signatures__inputbox">
                    <label for="label-cliente-name" class="signatures__labels">assinatura do cliente</label>
                </div>
            </section>
        </main>
        <br><br>
        <div id="printer" class="printer-icon">
            <img src="img-icons/Icone de impressora-75x93.svg" alt="printer-img">
            <p>Imprimir</p>
        </div>
        <footer class="footer-infos">
            <p id="dir-reserv">&copy Todos os direitos reservados.</p>
        </footer>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Obtendo valores dos inputs da entrada -> index.html usando DOM
            /*
                Os IDs nomeados com: preview-alguma-coisa recebem valores.
                Valores estes que estão armazenados no localStorage do Web Storage do Google Chrome.
                Esses valores são obtidos a partir do ID do doc de entrada de dados index.html
            */
            document.getElementById('preview-data-service').textContent = localStorage.getItem('data-servico');
            document.getElementById('preview-type-service').textContent = localStorage.getItem('tipo-servico');
            document.getElementById('preview-fabricante').textContent = localStorage.getItem('fabricante');

            // Pegando o valor do localStorage e formatando
            let dataServico = localStorage.getItem('data-servico');

            // Verifica se a data foi armazenada e está no formato aaaa-mm-dd
            if (dataServico) {
                // Divide a data em [ano, mês, dia]
                let [ano, mes, dia] = dataServico.split('-');
                
                // Reorganiza e exibe no formato dd/mm/aaaa
                document.getElementById('preview-data-service').textContent = `${dia}/${mes}/${ano}`;
            }

            document.getElementById('preview-customer-name').textContent = localStorage.getItem('nome-cliente');
            document.getElementById('preview-customer-contact').textContent = localStorage.getItem('contato-cliente');
            document.getElementById('preview-customer-cel-tel').textContent = localStorage.getItem('cel-tel-cliente');

            document.getElementById('preview-customer-address').textContent = localStorage.getItem('endereco-cliente');
            document.getElementById('preview-customer-municipality').textContent = localStorage.getItem('municipio-cliente');
            document.getElementById('preview-customer-uf').textContent = localStorage.getItem('uf');

            document.getElementById('preview-serial-number').textContent = localStorage.getItem('n-serie');
            document.getElementById('preview-equip-name').textContent = localStorage.getItem('nome-equipamento');
            document.getElementById('preview-os-number').textContent = localStorage.getItem('n-chamado');

                                                    // Convertendo de string para boolean
            let isCheckedRx = localStorage.getItem('rx-check') === 'true'; 
            document.getElementById('preview-rx-check').innerHTML = isCheckedRx 
            ? '<img src="assets/window-print-preview/checked-icon.png" alt="checked">'         /*'✓'*/
            : '<img src="assets/window-print-preview/unchecked-icon.png" alt="unchecked">';         /*''*/

            let isCheckedMg = localStorage.getItem('mg-check') === 'true'; 
            document.getElementById('preview-mg-check').innerHTML = isCheckedMg 
            ? '<img src="assets/window-print-preview/checked-icon.png" alt="checked">'         
            : '<img src="assets/window-print-preview/unchecked-icon.png" alt="unchecked">';         

            let isCheckedUl = localStorage.getItem('ul-check') === 'true'; 
            document.getElementById('preview-ul-check').innerHTML = isCheckedUl 
            ? '<img src="assets/window-print-preview/checked-icon.png" alt="checked">'        
            : '<img src="assets/window-print-preview/unchecked-icon.png" alt="unchecked">';         

            let isCheckedOdonto = localStorage.getItem('odonto-check') === 'true'; 
            document.getElementById('preview-odonto-check').innerHTML = isCheckedOdonto 
            ? '<img src="assets/window-print-preview/checked-icon.png" alt="checked">'         
            : '<img src="assets/window-print-preview/unchecked-icon.png" alt="unchecked">';         

            let isCheckedVet = localStorage.getItem('vet-check') === 'true'; 
            document.getElementById('preview-vet-check').innerHTML = isCheckedVet 
            ? '<img src="assets/window-print-preview/checked-icon.png" alt="checked">'         
            : '<img src="assets/window-print-preview/unchecked-icon.png" alt="unchecked">';     

            
            document.getElementById('preview-equip-status').textContent = localStorage.getItem('equip-status');

            document.getElementById('preview-data-ida').textContent = localStorage.getItem('data-ida');
            document.getElementById('preview-hora-inicio-ida').textContent = localStorage.getItem('hora-inicio-ida');
            document.getElementById('preview-hora-chegada-ida').textContent = localStorage.getItem('hora-chegada-ida');
            document.getElementById('preview-local-origem-ida').textContent = localStorage.getItem('local-origem-ida');
            document.getElementById('preview-local-destino-ida').textContent = localStorage.getItem('local-destino-ida');

            let dataIda = localStorage.getItem('data-ida');

            // Verifica se a data foi armazenada e está no formato aaaa-mm-dd
            if (dataIda) {
                // Divide a data em [ano, mês, dia]
                let [ano, mes, dia] = dataIda.split('-');
                
                // Reorganiza e exibe no formato dd/mm/aaaa
                document.getElementById('preview-data-ida').textContent = `${dia}/${mes}/${ano}`;
            }

            document.getElementById('preview-data-volta').textContent = localStorage.getItem('data-volta');
            document.getElementById('preview-hora-inicio-volta').textContent = localStorage.getItem('hora-inicio-volta');
            document.getElementById('preview-hora-chegada-volta').textContent = localStorage.getItem('hora-chegada-volta');
            document.getElementById('preview-local-origem-volta').textContent = localStorage.getItem('local-origem-volta');
            document.getElementById('preview-local-destino-volta').textContent = localStorage.getItem('local-destino-volta');

            let dataVolta = localStorage.getItem('data-volta');

            // Verifica se a data foi armazenada e está no formato aaaa-mm-dd
            if (dataVolta) {
                // Divide a data em [ano, mês, dia]
                let [ano, mes, dia] = dataVolta.split('-');
                
                // Reorganiza e exibe no formato dd/mm/aaaa
                document.getElementById('preview-data-volta').textContent = `${dia}/${mes}/${ano}`;
            }

            document.getElementById('preview-inputbox-inicio-servico').textContent = localStorage.getItem('inputbox-inicio-servico');
            document.getElementById('preview-inputbox-termino-servico').textContent = localStorage.getItem('inputbox-termino-servico');
            document.getElementById('preview-status-atend').textContent = localStorage.getItem('status-atend');
            document.getElementById('preview-inputbox-obs').textContent = localStorage.getItem('inputbox-obs');
            

            /*
            Utilizando innerText para o input do tipo textarea
            */

            const previewDescricaoServico = localStorage.getItem('desc-servico');
            document.getElementById('preview-desc-servico').innerText = previewDescricaoServico;

        });
    </script>
</body>
</html>